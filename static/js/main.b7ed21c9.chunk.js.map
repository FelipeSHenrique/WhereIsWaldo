{"version":3,"sources":["components/timer.jsx","components/startButton.jsx","firebase.js","components/WinnerInfo.jsx","App.js","index.js"],"names":["Timer","props","seconds","minutes","secondsTimer","hasWin","document","querySelector","innerHTML","setTimeout","start","setInterval","className","minuteWin","secondWin","StartGame","started","onClick","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","useWinners","useState","winner","setWinners","useEffect","unsubscribe","firestore","collection","onSnapshot","snap","newWinner","docs","map","doc","id","data","console","log","WinnerInfo","formName","setFormName","winners","time","misses","onSubmit","e","preventDefault","add","name","tries","then","htmlFor","onChange","target","value","type","key","App","canvas","setCanvas","gameStart","setGameStart","win","setWin","img","Image","addEventListener","width","height","getContext","drawImage","src","currentSec","currentMin","newCount","mouseClick","rect","getBoundingClientRect","xPos","clientX","left","yPos","clientY","top","posX","posY","context","beginPath","arc","Math","PI","lineWidth","strokeStyle","stroke","canvasDraw","Start","innerText","StartTimer","finalTime","RenderForm","errorNum","replace","div","alt","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b7ed21c9.chunk.js","sourcesContent":["import React from 'react'\nimport './timer.css'\n\n\nconst Timer = (props) => {\n    let seconds = '0'\n    let minutes = '0'\n    function minutesTimer() {\n            if (seconds === 59) {\n               setTimeout(()=> {\n                minutes++\n                \n                if (minutes < 10) {\n                    document.querySelector('.minutes').innerHTML = '0' + minutes + ':'\n                } else {\n                    document.querySelector('.minutes').innerHTML = minutes + ':'\n                }\n               }, 2000) \n            }\n    }\n\n    function secondsTimer() {\n                if (seconds < 10 && props.hasWin === false) {\n                    document.querySelector('.sec').innerHTML = '0' + seconds\n                } else {\n                    document.querySelector('.sec').innerHTML = seconds\n                }\n                    seconds++\n                \n                if (seconds === 60) {\n                    seconds = 0\n                }\n\n                minutesTimer()\n    }\n\n    \n    \n    \n    if (props.start) {\n        let runningTime = () => setInterval(secondsTimer, 1000)\n        runningTime()\n    }\n\n    \n    return (\n        <div className='timer'>\n            <div className={`minutes ${props.hasWin ? 'removeItem' : ''} `}>00:</div>\n            <div className={`sec ${props.hasWin ? 'removeItem' : ''}`}>     00</div>\n            <div className={`minWin ${props.hasWin ? '' : 'removeItem'}`}>{props.minuteWin}</div>\n            <div className={`secWin ${props.hasWin ? '' : 'removeItem'}`}>{props.secondWin}</div>\n        </div>\n    )\n}\n\nexport default Timer","import React from 'react'\nimport './startButton.css'\n\n\nconst StartGame = (props) => {\n\n\n    return (\n        <div className={`content ${props.started ? 'removeContent' : ''}`}> \n            <div className='contentStart'>\n                \n                <div onClick={props.start} \n                 className=\"wrap\">\n    <div className=\"circle\">\n    </div>\n</div>\n           \n            </div>\n        </div>\n\n    )\n}\n\nexport default StartGame","import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\n\r\n  // Your web app's Firebase configuration\r\n  var firebaseConfig = {\r\n    apiKey: \"AIzaSyBm6IbnFyx1AcPHoii9Ar0Rt2YvMZzBfgs\",\r\n    authDomain: \"whereiswaldo-6cfa8.firebaseapp.com\",\r\n    databaseURL: \"https://whereiswaldo-6cfa8.firebaseio.com\",\r\n    projectId: \"whereiswaldo-6cfa8\",\r\n    storageBucket: \"whereiswaldo-6cfa8.appspot.com\",\r\n    messagingSenderId: \"1021810550716\",\r\n    appId: \"1:1021810550716:web:c55a929d2ba07682cdadb9\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  export default firebase","import React, {useState, useEffect} from 'react'\nimport './WinnerInfo.css'\nimport firebase from '../firebase'\n\n\n\nfunction useWinners() {\n    const [winner, setWinners] = useState([])\n\n    useEffect(()=> {\n        const unsubscribe = firebase\n            .firestore()\n            .collection('winners')\n            .onSnapshot((snap) => {\n                const newWinner = snap.docs.map((doc) => ({\n                    id: doc.id,\n                    ...doc.data()\n                }))\n\n                console.log(newWinner)\n                setWinners(newWinner)\n            })\n\n            return () => unsubscribe()\n    }, [])\n    return winner\n}\n\n\nconst WinnerInfo = (props) => {\n    const [formName, setFormName] = useState('')\n\n    let winners = new useWinners()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        firebase\n            .firestore()\n            .collection('winners')\n            .add({\n                name: formName,\n                tries: props.misses,\n                time: props.time\n            })\n            .then(\n                setFormName('')\n            )\n\n\n\n        console.log(formName)\n        console.log('Formulário enviado')\n    }\n    \n    const handleName = (e) => {\n        setFormName(e.target.value)\n    }\n\n    return (\n        <div className='container'>\n            <div className='contentWin'>\n                <h1>Você encontrou Waldo!</h1>\n                <div>Seu tempo foi de: {props.time}</div>\n                <br></br>\n                <div>Você precisou de {props.misses} tentativas.</div>\n                <br></br>\n                <form onSubmit={handleSubmit}>\n                    <label htmlFor=\"fname\">Informe seu nome para ser incluido na lista de vencedores.\n                    <input onChange={handleName} type=\"text\" id=\"fname\" name=\"fname\"></input>\n                    </label>\n                    <input type=\"submit\" value=\"Salvar\" />\n                </form>\n                <h2>Lista de vencedores</h2>\n                \n                <div className='winnerList'>\n                    <div className='listHeader'>\n                        <ul>\n                        <li className='titleList'>\n                                <div>\n                                    Nome\n                                </div>\n                                <div>\n                                   Tentativas\n                                </div>\n                               <div>\n                                  Tempo\n                               </div>\n                            </li>\n                        </ul>\n                    </div>\n                    <ol>\n                        {winners.map((winner) => \n                            <li key={winner.id}>\n                                <div>\n                                    {winner.name}\n                                </div>\n                                <div>\n                                   {winner.tries}\n                                </div>\n                                <div>\n                                   {winner.time}\n                                </div>\n                            </li>\n                        )}\n                        \n                    </ol>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\nexport default WinnerInfo","import React, {useState, useEffect} from 'react';\nimport './App.css';\nimport Timer from './components/timer'\nimport StartGame from './components/startButton'\nimport WinnerInfo from './components/WinnerInfo'\n\n\nfunction App() {\n\n  const [canvas, setCanvas] = useState(null)\n  const [gameStart, setGameStart] = useState(false)\n  const [win, setWin] = useState(false)\n\n\n  useEffect(() => {\n    setCanvas(document.querySelector('.canvas'))\n  }, [])\n\n\n\n  if (canvas !== null) {\n    const img = new Image();   // Create new img element\n    img.addEventListener('load', () => {\n      canvas.width = img.width\n      canvas.height = img.height\n      const context = canvas.getContext('2d')\n      context.drawImage(img, 0, 0)\n    }, false);\n    img.src = 'wheres-waldo.jpg'; // Set source path\n  }\n\n  const canvasDraw = (posX, posY) => {\n    const context = canvas.getContext('2d')\n    context.beginPath();\n    context.arc(posX, posY, 5, 0, 2 * Math.PI);\n    context.lineWidth=3;\n    context.strokeStyle = 'red'\n    context.stroke()\n  }\n\n  let newCount = 0\n\n  const mouseClick = (e) => {\n    newCount++\n    document.querySelector('.clickNum').innerHTML = 'Erros: ' + newCount\n    const rect = canvas.getBoundingClientRect()\n    let xPos = e.clientX - rect.left\n    let yPos = e.clientY - rect.top\n    if (xPos > 505 && xPos < 549 && yPos > 544 && yPos < 627) {\n      console.log('Você ganhou!')\n      \n      setGameStart(false)\n      document.querySelector('.clickNum').innerHTML = 'Você venceu depois de ' + newCount + ' tentativas'\n      setWin(true)\n    }\n     canvasDraw(xPos, yPos)\n   // console.log('eixo X: ' + xPos,'eixo Y: ' + yPos) LOGS POSITION CLICKED\n  }\n\n\n\n\n  const start = () => {\n    setGameStart(true)\n    console.log('Cliquei no inicio')\n  }\n\n\n  const Start = () => {\n    return (\n      <StartGame\n        start={start}\n        started={gameStart}\n      />\n    )\n  }\n\n\n\n  function startChecker (e) {\n    if (gameStart) {\n      mouseClick(e)\n    }\n  }\n\n  let currentSec\n  let currentMin\n\n  if (win) {\n    currentSec = document.querySelector('.sec').innerText\n    currentMin = document.querySelector('.minutes').innerText\n    console.log(currentMin, currentSec)\n}\n\n\n\n\n  const StartTimer = () => {\n\n      return (\n        <Timer\n          hasWin={win}\n          start={gameStart}\n          minuteWin={currentMin}\n          secondWin={currentSec}\n        />\n      )\n  }\n\n  const finalTime = currentMin + currentSec\n\n  const RenderForm = () => {\n    if (win) {\n      const errorCount = document.querySelector('.clickNum').innerHTML\n      let errorNum = errorCount.replace(/\\D/g,'')\n      return (\n        <WinnerInfo \n          misses={errorNum}\n          time={finalTime }\n        />\n      )\n    } else {\n      return null\n    }\n  }\n\n\n\n\n\n  return (\n    <div className=\"App disable-select\">\n      <header className=\"App-header disable-select\"> \n        <StartTimer/>\n        <div>Ajude a encontrar o Waldo</div>\n        <div className='clickNum'></div>        \n      </header>\n      {/*   <div className={`App-body disable-select ${win ? 'hideItem' : ''}`}>     Linha original, usando a de baixo só para desenvolvimento       */}  \n      <RenderForm/>\n      <div className={`App-body disable-select ${win ? 'hideItem ' : ''}`}>\n        \n          <div div='content disable-select'>\n          <div className='info-bar disable-select'>\n            <img className='waldo' alt='waldo' src='waldo.png'></img>\n            <Start/>\n            <p className='waldoDesc'>Waldo se perdeu durante sua ida a praia, ajude a encontrá-lo clicando na imagem. Você tem dois minutos!</p>\n            <canvas onClick={startChecker} className={`canvas ${gameStart ? 'removeCanvasBlur' : 'addCanvasBlur'}`}> \n            </canvas>\n          </div>\n          </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n         <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}